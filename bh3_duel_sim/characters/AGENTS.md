# 角色模块

## 伤害计算规则

- 所有伤害在未特别注明时默认**必须**按普攻同样的流程吃防御/护盾等减免, 包括但不限于主动技能或被动反击。

## 技能系统重构设想

- 目标: 在基类层面抽象出 `Skill` -> `ActiveSkill`/`PassiveSkill` 体系, 让角色通过组合技能来描述各类效果, 减少模拟器对阶段细节的感知。
- 原因: 目前被动/主动逻辑散落在角色类内部, 封锁/魅惑等机制必须到处加条件。若技能对象自带“触发窗口”(被动阶段/受击/状态施加等)与“可否执行”判断, 封锁就可集中处理, 魅惑只需作用在 `ActiveSkill` 即可, 普攻逻辑也能清晰区分。
- 预期收益:
  1. `BattleSimulator` 仅驱动技能生命周期, 无需了解每个角色的特例。
  2. “被动封锁”或“魅惑”这类状态只需在技能调度层屏蔽对应技能, 不必在角色方法里到处写 `if`.
  3. 角色扩展时只需定义技能实例, 代码更像数据驱动, 便于复用与测试。
- 考量: 迁移量大, 需设计技能事件接口(出手、受击、状态附加等), 并兼容现有角色的即时被动。当前先记录构想, 后续空档再重构。
